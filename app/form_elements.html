<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>Form Elements</title>
  <script defer src="js/form_elements.js"></script><link href="./css/form_elements.css" rel="stylesheet"></head>
  <body>
    <div class="logogroup"> <a href="#"><img src="images/logo_groupc2a93d6ae04f381031de.svg" alt="logo_group"></a></div>
    <div class="container">
      <div class="form-elements"> 
        <div class="form-elements-first">
          <h3>Text Field</h3>
          <form class="text_field_form" action="/mock-address/change-me">
            <input class="text_field_input" type="text" name="emails" placeholder="Hello">
          </form>
          <p> </p>
          <h3>subscription text field</h3>
          <form class="footer-email" action="/mock-address/change-me"> 
            <input class="input-text" type="email" name="emails" placeholder="Email">
            <button class="input-btn" type="submit">arrow_forward</button>
          </form>
          <p> </p>
          <h3>Date dropdown </h3>
          <div class="date-dropdown">
            <div class="date-dropdown-block">
              <div class="date-dropdown-input" id="start-date">
                <button class="date-dropdown-btn">expand_more</button>
              </div>
            </div>
            <div class="date-dropdown-block">
              <div class="date-dropdown-input" id="end-date">
                <button class="date-dropdown-btn">expand_more</button>
              </div>
            </div>
          </div>
          <h3>Dropdown</h3>
          <div class="wrap">
            <div class="dropdown" data-words="Гость,Гостя,Гостей" data-default="Сколько гостей">
              <button class="dropdown__dropbtn">expand_more</button>
              <div class="dropdown__heading"></div>
              <div class="dropdown__content">
                <div class="dropdown__items">
                  <div class="item-quantity"><span class="item-quantity__nam">Взрослые</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">0</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                  <div class="item-quantity"><span class="item-quantity__nam">Дети</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">0</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                  <div class="item-quantity"><span class="item-quantity__nam">Младенцы</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">0</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                </div>
                <div class="dropdown__buttons">
                  <button class="dropdown__clear">Очистить</button>
                  <button class="dropdown__apply">Применить </button>
                </div>
              </div>
            </div>
          </div>
          <div class="wrap">
            <div class="dropdown" data-default="Сколько комнат и кроватей?">
              <button class="dropdown__dropbtn">expand_more</button>
              <div class="dropdown__heading"></div>
              <div class="dropdown__content">
                <div class="dropdown__items">
                  <div class="item-quantity" data-words="Спальня,Спальни,Спален"><span class="item-quantity__nam">Cпальня</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">2</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                  <div class="item-quantity" data-words="Кровать, Кровати, Кроватей"><span class="item-quantity__nam">Кровать</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">2</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                  <div class="item-quantity" data-words="Ванная, Ванные, Ванных"><span class="item-quantity__nam">Ванные комнаты</span>
                    <div class="item-quantity__controls">
                      <button class="item-quantity__button item-quantity__button_minus">-</button><span class="item-quantity__value">0</span>
                      <button class="item-quantity__button item-quantity__button_plus">+</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="dropdown__buttons">
                <button class="dropdown__clear">Очистить</button>
                <button class="dropdown__apply">Применить</button>
              </div>
            </div>
          </div>
          <p> </p>
          <h3>Room dropdown </h3>
          <p> </p>
          <h3>Checkbox list</h3>
          <form>
            <div class="multiselect">
              <div class="selectBox" onclick="showCheckboxes()">
                <select>
                  <option>Дополнительные удобства</option>
                </select>
                <div class="overSelect"></div>
              </div>
              <div class="checkboxes" id="checkboxes"> 
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Завтрак</div>
                </div>
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Письменный стол</div>
                </div>
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Стул для кормления</div>
                </div>
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Кроватка</div>
                </div>
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Телевизор</div>
                </div>
                <div class="checkbox-group">
                  <label class="check">
                    <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                  </label>
                  <div class="checkbox-group-text">Шампунь</div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="form-elements-second">
          <div class="form-elements-1">
            <h3>Правила дома</h3>
            <div class="checkbox-button"> 
              <div class="checkbox-button-group"> 
                <label class="check">
                  <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                </label>
                <div class="checkbox-button-text">Можно курить</div>
              </div>
              <div class="checkbox-button-group"> 
                <label class="check">
                  <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                </label>
                <div class="checkbox-button-text">Можно с питомцами</div>
              </div>
              <div class="checkbox-button-group"> 
                <label class="check">
                  <input class="checkbox" id="one" type="checkbox"><span class="checkmark checkmark-arrow"></span>
                </label>
                <div class="checkbox-button-text">Можно пригласить гостей (до 10 человек)</div>
              </div>
            </div>
          </div>
          <div class="form-elements-2">
            <h3>Radio buttons</h3>
            <div class="radio">
              <div class="radio-group">
                <label class="check-radio">
                  <input class="checkbox-radio" id="one" type="radio" name="radio" checked="checked"><span class="checkmark-radio"></span>
                </label>
                <div class="radio-group-text">Мужчина</div>
              </div>
              <div class="radio-group">
                <label class="check-radio">
                  <input class="checkbox-radio" id="one" type="radio" name="radio" checked="checked"><span class="checkmark-radio"></span>
                </label>
                <div class="radio-group-text">Женщина</div>
              </div>
            </div>
          </div>
          <div class="form-elements-3"> 
            <h3>Toggle </h3>
            <div class="toggle">
              <label class="check-toggle">
                <input class="checkbox-toggle" type="checkbox"><span class="checkmark-toggle"></span>
              </label>
              <div class="toggle-text">Получать спецпредложения</div>
            </div>
            <p></p>
            <div class="toggle">
              <label class="check-toggle">
                <input class="checkbox-toggle" type="checkbox"><span class="checkmark-toggle"></span>
              </label>
              <div class="toggle-text">Получать спецпредложения</div>
            </div>
          </div>
          <div class="form-elements-4"> 
            <h3>Like button</h3>
            <div class="like-button-group">
              <div class="like-button">
                <button class="like-btn" id="like-button">
                  <div class="like-checkmark-before" id="likeCheckmarkBefore">favorite_border</div>
                  <div class="like-btn-count" id="like-count">3</div>
                </button>
                <div id="likeCheckmarkAfter">
                  <div class="like-checkmark-after">favorite</div>
                </div>
              </div>
              <div class="like-button">
                <button class="like-btn" id="like-button">
                  <div class="like-checkmark-before" id="likeCheckmarkBefore">favorite_border</div>
                  <div class="like-btn-count" id="like-count">3</div>
                </button>
                <div id="likeCheckmarkAfter">
                  <div class="like-checkmark-after">favorite</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-elements-5"> 
            <h3>Rate button</h3>
            <div class="rate-button-group">
              <div class="rate"><i class="material-icons">star_border</i><i class="material-icons">star_border</i><i class="material-icons">star_border</i><i class="material-icons">star_border</i><i class="material-icons">star_border</i>
              </div>
              <div class="rate"><i class="material-icons">star</i><i class="material-icons">star</i><i class="material-icons">star</i><i class="material-icons">star_border</i><i class="material-icons">star_border</i>
              </div>
              <div class="rate"><i class="material-icons">star</i><i class="material-icons">star</i><i class="material-icons">star</i><i class="material-icons">star</i><i class="material-icons">star</i>
              </div>
            </div>
          </div>
        </div>
        <div class="form-elements-third">
          <h3>Range slider</h3>
          <div class="range-slider"> 
            <div class="range-text">Диапазон Цены</div>
            <div class="range-result" id="result">5 000₽ - 10 000₽</div>
            <div class="content">
              <div class="slider" id="my-slider" se-min="0" se-step="1" se-min-value="5000" se-max-value="10000" se-max="15000">
                <div class="slider-touch-left"><span></span></div>
                <div class="slider-touch-right"><span></span></div>
                <div class="slider-line"><span></span></div>
              </div>
            </div>
          </div>
          <h3>Buttons</h3>
          <p>
            <div class="buttons-group">
              <button class="button  button_default button_hovered" type="default" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">click me</span>
                </div>
              </button>
              <button class="button  button_default" type="default" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">войти</span>
                </div>
              </button>
            </div>
            <div class="buttons-group">
              <button class="button  button_bordercolor button_hovered" type="bordercolor" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">click me</span>
                </div>
              </button>
              <button class="button  button_bordercolor" type="bordercolor" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">click me</span>
                </div>
              </button>
            </div>
            <div class="buttons-group">
              <button class="button  button_link" type="link" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">click me</span>
                </div>
              </button>
              <button class="button  button_link button_hovered" type="link" onclick="window.location.href = undefined">
                <div class="button__wrapper"> <span class="button__text">click me</span>
                </div>
              </button>
            </div>
            <button class="button  button_long" type="long" onclick="window.location.href = undefined">
              <div class="button__wrapper"> <span class="button__text">перейти к оплате</span><span class="button__arrow material-icons">arrow_forward</span>
              </div>
            </button>
          </p>
          <H3>Pagination</H3>
          <div class="pagination">
            <ul>
              <li class="pagination-first numb" onclick="createPagination(totalPages, 1)"> <span>1</span></li>
              <li class="numb" onclick="createPagination(totalPages, 2)"> <span>2</span></li>
              <li class="numb" onclick="createPagination(totalPages, 3)"> <span>3</span></li>
              <li class="numb" onclick="createPagination(totalPages, 4)"> <span>4</span></li>
              <li class="dots"> <span>...</span></li>
              <li class="numb" onclick="createPagination(totalPages, 15)"> <span>15</span></li>
              <li class="pagination-btn" onclick="createPagination(totalPages, 15)"> <span class="pagination-arrow">arrow_forward</span></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
       var expanded = false;

function showCheckboxes() {
  var checkboxes = document.getElementById("checkboxes");
  if (!expanded) {
    checkboxes.style.display = "block";
    expanded = true;
  } else {
    checkboxes.style.display = "none";
    expanded = false;
  }
}
    </script>
    <script type="text/javascript">
       
var expanded = false;
function likeFunction() {
  var likeCheckmarkAfter = document.getElementById("likeCheckmarkAfter");
  if (!expanded) {
    likeCheckmarkAfter.style.display = "none";
    expanded = true;
  } else {
    likeCheckmarkAfter.style.display = "block";
    expanded = false;
  }
}
document.getElementById("like-button").addEventListener("click", likeFunction);


 


function plusLike() {
  var count = document.getElementById("like-count");
   if (count.firstChild.nodeValue == "2") {
    count.firstChild.nodeValue = "3";
  } else {
    count.firstChild.nodeValue = "2";
  }
 }
 document.getElementById("like-button").addEventListener("click", plusLike, false);
 


 
    </script>
    <script type="text/javascript">
       // THIS IS THE RANGE SLIDER LOGIC DO NOT CHANGE !!
var ZBRangeSlider = function(id) { 
  var self = this;
  var startX = 0, x = 0;

  // retrieve touch button
  var slider     = document.getElementById(id)
  var touchLeft  = slider.querySelector('.slider-touch-left');
  var touchRight = slider.querySelector('.slider-touch-right');
  var lineSpan   = slider.querySelector('.slider-line span');
  
  // get some properties
  var min   = parseFloat(slider.getAttribute('se-min'));
  var max   = parseFloat(slider.getAttribute('se-max'));
  
  // retrieve default values
  var defaultMinValue = min;
  if(slider.hasAttribute('se-min-value'))
  {
    defaultMinValue = parseFloat(slider.getAttribute('se-min-value'));  
  }
  var defaultMaxValue = max;
  
  if(slider.hasAttribute('se-max-value'))
  {
    defaultMaxValue = parseFloat(slider.getAttribute('se-max-value'));  
  }
  
  // check values are correct
  if(defaultMinValue < min)
  {
    defaultMinValue = min;
  }
  
  if(defaultMaxValue > max)
  {
    defaultMaxValue = max;
  }
  
  if(defaultMinValue > defaultMaxValue)
  {
    defaultMinValue = defaultMaxValue;
  }
  
  var step  = 0.0;
  
  if (slider.getAttribute('se-step'))
  {
    step  = Math.abs(parseFloat(slider.getAttribute('se-step')));
  }
  
  // normalize flag
  var normalizeFact = 26;
  
  self.slider = slider;
  self.reset = function() {
    touchLeft.style.left = '0px';
    touchRight.style.left = (slider.offsetWidth - touchLeft.offsetWidth) + 'px';
    lineSpan.style.marginLeft = '0px';
    lineSpan.style.width = (slider.offsetWidth - touchLeft.offsetWidth) + 'px';
    startX = 0;
    x = 0;
  };
  
  self.setMinValue = function(minValue)
  {
    var ratio = ((minValue - min) / (max - min));
    touchLeft.style.left = Math.ceil(ratio * (slider.offsetWidth - (touchLeft.offsetWidth + normalizeFact))) + 'px';
    lineSpan.style.marginLeft = touchLeft.offsetLeft + 'px';
    lineSpan.style.width = (touchRight.offsetLeft - touchLeft.offsetLeft) + 'px';
    slider.setAttribute('se-min-value', minValue);
  }
  
  self.setMaxValue = function(maxValue)
  {
    var ratio = ((maxValue - min) / (max - min));
    touchRight.style.left = Math.ceil(ratio * (slider.offsetWidth - (touchLeft.offsetWidth + normalizeFact)) + normalizeFact) + 'px';
    lineSpan.style.marginLeft = touchLeft.offsetLeft + 'px';
    lineSpan.style.width = (touchRight.offsetLeft - touchLeft.offsetLeft) + 'px';
    slider.setAttribute('se-max-value', maxValue);
  }
  
  // initial reset
  self.reset();
  
  // usefull values, min, max, normalize fact is the width of both touch buttons
  var maxX = slider.offsetWidth - touchRight.offsetWidth;
  var selectedTouch = null;
  var initialValue = (lineSpan.offsetWidth - normalizeFact);

  // set defualt values
  self.setMinValue(defaultMinValue);
  self.setMaxValue(defaultMaxValue);
  
  // setup touch/click events
  function onStart(event) {
    
    // Prevent default dragging of selected content
    event.preventDefault();
    var eventTouch = event;

    if (event.touches)
    {
      eventTouch = event.touches[0];
    }
    
    if(this === touchLeft)
    {
      x = touchLeft.offsetLeft;
    }
    else
    {
      x = touchRight.offsetLeft;
    }

    startX = eventTouch.pageX - x;
    selectedTouch = this;
    document.addEventListener('mousemove', onMove);
    document.addEventListener('mouseup', onStop);
    document.addEventListener('touchmove', onMove);
    document.addEventListener('touchend', onStop);
    

  }
  
  function onMove(event) {
    var eventTouch = event;

    if (event.touches)
    {
      eventTouch = event.touches[0];
    }

    x = eventTouch.pageX - startX;
    
    if (selectedTouch === touchLeft)
    {
      if(x > (touchRight.offsetLeft - selectedTouch.offsetWidth + 10))
      {
        x = (touchRight.offsetLeft - selectedTouch.offsetWidth + 10)
      }
      else if(x < 0)
      {
        x = 0;
      }
      
      selectedTouch.style.left = x + 'px';
    }
    else if (selectedTouch === touchRight)
    {
      if(x < (touchLeft.offsetLeft + touchLeft.offsetWidth - 10))
      {
        x = (touchLeft.offsetLeft + touchLeft.offsetWidth - 10)
      }
      else if(x > maxX)
      {
        x = maxX;
      }
      selectedTouch.style.left = x + 'px';
    }
    
    // update line span
    lineSpan.style.marginLeft = touchLeft.offsetLeft + 'px';
    lineSpan.style.width = (touchRight.offsetLeft - touchLeft.offsetLeft) + 'px';
    
    // write new value
    calculateValue();
    
    // call on change
    if(slider.getAttribute('on-change'))
    {
      var fn = new Function('min, max', slider.getAttribute('on-change'));
      fn(slider.getAttribute('se-min-value'), slider.getAttribute('se-max-value'));
    }
    
    if(self.onChange)
    {
      self.onChange(slider.getAttribute('se-min-value'), slider.getAttribute('se-max-value'));
    }
    
  }
  
  function onStop(event) {
    document.removeEventListener('mousemove', onMove);
    document.removeEventListener('mouseup', onStop);
    document.removeEventListener('touchmove', onMove);
    document.removeEventListener('touchend', onStop);
    
    selectedTouch = null;

    // write new value
    calculateValue();
    
    // call did changed
    if(slider.getAttribute('did-changed'))
    {
      var fn = new Function('min, max', slider.getAttribute('did-changed'));
      fn(slider.getAttribute('se-min-value'), slider.getAttribute('se-max-value'));
    }
    
    if(self.didChanged)
    {
      self.didChanged(slider.getAttribute('se-min-value'), slider.getAttribute('se-max-value'));
    }
  }
  
  function calculateValue() {
    var newValue = (lineSpan.offsetWidth - normalizeFact) / initialValue;
    var minValue = lineSpan.offsetLeft / initialValue;
    var maxValue = minValue + newValue;

    var minValue = minValue * (max - min) + min;
    var maxValue = maxValue * (max - min) + min;
    
    console.log(step);
    if (step !== 0.0)
    {
      var multi = Math.floor((minValue / step));
      minValue = step * multi;
      
      multi = Math.floor((maxValue / step));
      maxValue = step * multi;
    }
    
    slider.setAttribute('se-min-value', minValue);
    slider.setAttribute('se-max-value', maxValue);
  }
  
  // link events
  touchLeft.addEventListener('mousedown', onStart);
  touchRight.addEventListener('mousedown', onStart);
  touchLeft.addEventListener('touchstart', onStart);
  touchRight.addEventListener('touchstart', onStart);
};

// -------------------
// How to use? 
var newRangeSlider = new ZBRangeSlider('my-slider');

newRangeSlider.onChange = function(min, max)
{
  console.log(min, max, this);
  document.getElementById('result').innerHTML = min.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ') + ' ₽ ' + ' - ' + max.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ') + ' ₽ ';
}

newRangeSlider.didChanged = function(min, max)
{
  console.log(min,max, this);
  document.getElementById('result').innerHTML = min.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ') + ' ₽ ' + ' - ' + max.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g, '$1 ') + ' ₽ ';
}

// call reset if needed
// newRangeSlider.reset();
    </script>
    <script type="text/javascript">
       // selecting required element
const element = document.querySelector(".pagination ul");
let totalPages = 15;
let page = 1;

//calling function with passing parameters and adding inside element which is ul tag
element.innerHTML = createPagination(totalPages, page);
function createPagination(totalPages, page){
  let liTag = '';
  let active;
  let beforePage = page - 1;
  let afterPage = page + 1;
  
  if(page > 2){ //if page value is less than 2 then add 1 after the previous button
    liTag += `<li class="paginaton-first numb" onclick="createPagination(totalPages, 1)"><span>1</span></li>`;
    if(page > 3){ //if page value is greater than 3 then add this (...) after the first li or page
      liTag += `<li class="dots"><span>...</span></li>`;
    }
  }

  // how many pages or li show before the current li
  if (page == totalPages) {
    beforePage = beforePage - 2;
  } else if (page == totalPages - 1) {
    beforePage = beforePage - 1;
  }
  // how many pages or li show after the current li
  if (page == 1) {
    afterPage = afterPage + 2;
  } else if (page == 2) {
    afterPage  = afterPage + 1;
  }

  for (var plength = beforePage; plength <= afterPage; plength++) {
    if (plength > totalPages) { //if plength is greater than totalPage length then continue
      continue;
    }
    if (plength == 0) { //if plength is 0 than add +1 in plength value
      plength = plength + 1;
    }
    if(page == plength){ //if page is equal to plength than assign active string in the active variable
      active = "active";
    }else{ //else leave empty to the active variable
      active = "";
    }
    liTag += `<li class="numb ${active}" onclick="createPagination(totalPages, ${plength})"><span>${plength}</span></li>`;
  }

  if(page < totalPages - 1){ //if page value is less than totalPage value by -1 then show the last li or page
    if(page < totalPages - 2){ //if page value is less than totalPage value by -2 then add this (...) before the last li or page
      liTag += `<li class="dots"><span>...</span></li>`;
    }
    liTag += `<li class="last numb" onclick="createPagination(totalPages, ${totalPages})"><span>${totalPages}</span></li>`;
  }

  if (page < totalPages) { //show the next button if the page value is less than totalPage(20)
    liTag += `<li class="pagination-btn" onclick="createPagination(totalPages, ${page + 1})"><span class="pagination-arrow">arrow_forward</span></li>`;
  }
  element.innerHTML = liTag; //add li tag inside ul tag
  return liTag; //reurn the li tag
}
    </script>
  </body>
</html>